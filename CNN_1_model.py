from keras.utils import *
import tensorflow as tf
import numpy as np
from keras.models import model_from_json
import Data_load_4 as dl

#modelname = input("Type Model's name :: ")
#modelname = "Model4_lstm_drop_adam_ep1000"
#modelname = "Model4_I3d3_ep500_case3"
#modelname = "Model4_ep1500_cutdatafor2_lr0002"
modelname = "Model_cnn_onlyPIR_ep1000"
modelname_json = "Models/" + modelname + ".json"
modelname_weight = "Models/" + modelname + ".h5"

json_file = open(modelname_json,"r")

loaded_model_json = json_file.read()
json_file.close()

model = tf.keras.models.model_from_json(loaded_model_json)
model.load_weights(modelname_weight)

print("Model Loaded...!")

def decision(predict):
    print(predict)
    if predict[0][0] > predict[0][1]:
        return "None"
    else:
        return "Exist"

#human [0,0,1]
data = np.array([[
1889.0,1843.0,1771.0,1664.0,1555.0,1480.0,1542.0,1692.0,1760.0,1893.0,1908.0,1853.0,1766.0,1654.0,1522.0,1433.0,1515.0,1672.0,1703.0,1806.0,1815.0,1760.0,1687.0,1573.0,1445.0,1408.0,1510.0,1679.0,1686.0,1791.0,1801.0,1760.0,1698.0,1586.0,1428.0,1362.0,1417.0,1473.0,1444.0,1504.0,1480.0,1422.0,1349.0,1230.0,1143.0,1157.0,1264.0,1414.0,1464.0,1629.0,1724.0,1757.0,1769.0,1733.0,1703.0,1760.0,1892.0,2048.0,2026.0,2118.0,2139.0,2103.0,2041.0,1951.0,1860.0,1960.0,1941.0,2030.0,2048.0,2151.0,2151.0,2094.0,1982.0,1860.0,1788.0,1848.0,1922.0,1976.0,1892.0,1930.0,1940.0,1895.0,1806.0,1688.0,1652.0,1752.0,1824.0,1902.0,1814.0,1881.0,1911.0,1858.0,1814.0,1732.0,1723.0,1828.0,1912.0,1986.0,1886.0,1936.0
]])

#human [0,1]
data2 = np.array([[
2072.0,1948.0,1795.0,1668.0,1633.0,1692.0,1640.0,1624.0,1528.0,1500.0,1408.0,1241.0,1058.0,466.0,13.0,12.0,12.0,12.0,12.0,12.0,14.0,12.0,12.0,12.0,12.0,12.0,12.0,12.0,12.0,12.0,12.0,12.0,12.0,12.0,12.0,15.0,12.0,15.0,12.0,12.0,12.0,12.0,12.0,12.0,12.0,15.0,12.0,12.0,12.0,21.0,16.0,12.0,40.0,21.0,283.0,275.0,455.0,468.0,562.0,618.0,763.0,924.0,1088.0,1343.0,1743.0,2014.0,2138.0,2243.0,2214.0,2305.0,2336.0,2293.0,2264.0,2286.0,2416.0,2475.0,2476.0,2510.0,2436.0,2506.0,2532.0,2490.0,2473.0,2499.0,2612.0,2672.0,2740.0,2793.0,2736.0,2774.0,2784.0,2761.0,2729.0,2765.0,2882.0,2921.0,2947.0,3057.0,3028.0,3116.0
]])

#none [1,0]
data3 = np.array([[
2900.0,2749.0,2812.0,2613.0,2648.0,2620.0,2796.0,2779.0,2810.0,2663.0,2566.0,2448.0,2461.0,2193.0,2211.0,2124.0,2276.0,2231.0,2243.0,2131.0,2024.0,2005.0,2086.0,2074.0,2229.0,2351.0,2536.0,2632.0,2662.0,2616.0,2520.0,2432.0,2438.0,2310.0,2400.0,2487.0,2584.0,2683.0,2696.0,2632.0,2512.0,2413.0,2380.0,2292.0,2342.0,2404.0,2538.0,2564.0,2510.0,2419.0,2315.0,2220.0,2219.0,2121.0,2202.0,2334.0,2460.0,2496.0,2447.0,2367.0,2253.0,2168.0,2156.0,2057.0,2155.0,2289.0,2432.0,2451.0,2395.0,2312.0,2204.0,2117.0,2104.0,1996.0,2098.0,2248.0,2354.0,2392.0,2364.0,2284.0,2176.0,2073.0,2053.0,1923.0,2024.0,2180.0,2288.0,2294.0,2236.0,2158.0,2016.0,1903.0,1836.0,1696.0,1802.0,1945.0,2048.0,2106.0,2074.0,2002.0
]])

#none [1,0]
data4 = np.array([[
3016.0,3006.0,2914.0,2766.0,2752.0,2747.0,2656.0,2492.0,2313.0,2137.0,1943.0,1766.0,1652.0,1553.0,1717.0,1822.0,1859.0,1825.0,1784.0,1728.0,1660.0,1588.0,1583.0,1570.0,1802.0,1972.0,2037.0,2010.0,1956.0,1889.0,1804.0,1695.0,1678.0,1673.0,1897.0,2048.0,2114.0,2112.0,2072.0,2011.0,1908.0,1792.0,1765.0,1711.0,1891.0,1970.0,1984.0,1920.0,1824.0,1720.0,1596.0,1482.0,1444.0,1415.0,1560.0,1716.0,1824.0,1837.0,1802.0,1769.0,1706.0,1629.0,1647.0,1658.0,1876.0,2013.0,2063.0,2060.0,2023.0,1973.0,1899.0,1848.0,1914.0,2040.0,2320.0,2510.0,2593.0,2609.0,2560.0,2511.0,2452.0,2317.0,2308.0,2320.0,2476.0,2545.0,2512.0,2441.0,2353.0,2268.0,2184.0,2048.0,2072.0,2134.0,2322.0,2448.0,2456.0,2376.0,2267.0,2148.0
]])

#human [0,1]
data5 = np.array([[
2624.0,2564.0,2562.0,2518.0,2632.0,2668.0,2621.0,2550.0,2575.0,2640.0,2648.0,2576.0,2569.0,2449.0,2469.0,2439.0,2368.0,2313.0,2353.0,2408.0,2416.0,2358.0,2356.0,2256.0,2273.0,2238.0,2139.0,2099.0,2163.0,2244.0,2266.0,2252.0,2270.0,2197.0,2248.0,2239.0,2166.0,2160.0,2242.0,2328.0,2394.0,2396.0,2412.0,2353.0,2424.0,2420.0,2356.0,2336.0,2437.0,2516.0,2536.0,2488.0,2492.0,2426.0,2470.0,2447.0,2400.0,2400.0,2533.0,2620.0,2636.0,2609.0,2617.0,2536.0,2580.0,2538.0,2508.0,2500.0,2623.0,2700.0,2744.0,2710.0,2728.0,2653.0,2708.0,2668.0,2645.0,2628.0,2740.0,2794.0,2803.0,2739.0,2737.0,2636.0,2658.0,2632.0,2560.0,2546.0,2629.0,2668.0,2624.0,2544.0,2524.0,2418.0,2426.0,2376.0,2286.0,2253.0,2287.0,2350.0
]])

#none [1,0]
data6 = np.array([[
2269.0,2368.0,2376.0,2304.0,2208.0,2068.0,1964.0,1966.0,1870.0,2008.0,2180.0,2324.0,2366.0,2316.0,2224.0,2100.0,2018.0,2000.0,1952.0,2081.0,2307.0,2391.0,2371.0,2292.0,2168.0,2080.0,2000.0,1994.0,1956.0,2074.0,2281.0,2368.0,2352.0,2280.0,2194.0,2080.0,2000.0,2004.0,1978.0,2111.0,2322.0,2404.0,2374.0,2297.0,2200.0,2080.0,1985.0,2008.0,1954.0,2105.0,2284.0,2420.0,2420.0,2343.0,2242.0,2104.0,2000.0,1990.0,1932.0,2091.0,2272.0,2355.0,2324.0,2244.0,2137.0,2016.0,1920.0,1924.0,1884.0,2072.0,2280.0,2350.0,2319.0,2236.0,2136.0,2016.0,1904.0,1886.0,1887.0,2074.0,2262.0,2326.0,2292.0,2209.0,2116.0,2000.0,1912.0,1852.0,1830.0,2109.0,2348.0,2421.0,2376.0,2252.0,2121.0,2048.0,1949.0,1976.0,2024.0,2270.0
]])

data = np.reshape(data, (int(data.__len__()/1), 1, 10, 10))
data2 = np.reshape(data2, (int(data2.__len__()/1), 1, 10, 10))
data3 = np.reshape(data3, (int(data3.__len__()/1), 1, 10, 10))
data4 = np.reshape(data4, (int(data4.__len__()/1), 1, 10, 10))
data5 = np.reshape(data5, (int(data5.__len__()/1), 1, 10, 10))
data6 = np.reshape(data6, (int(data6.__len__()/1), 1, 10, 10))

result = decision(model.predict(data))
print(result)
result2 = decision(model.predict(data2))
print(result2)
result3 = decision(model.predict(data3))
print(result3)
result4 = decision(model.predict(data4))
print(result4)
result5 = decision(model.predict(data5))
print(result5)
result6 = decision(model.predict(data6))
print(result6)
